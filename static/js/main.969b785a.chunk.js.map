{"version":3,"sources":["utils/getTronWeb.js","components/Cards.js","components/FreeDrawCountdown.js","App.js","serviceWorker.js","index.js"],"names":["sleep","ms","Promise","resolve","setTimeout","getTronWeb","reject","window","addEventListener","Object","asyncToGenerator","regenerator_default","a","mark","_callee","tronWeb","wrap","_context","prev","next","stop","this","framesFolderPath","photographers","0","name","models","1","2","3","4","5","photos","model_id","photographer_id","file_name","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","frames","N","R","SR","SSR","UR","Card","_this$props$card","props","card","photoId","rarityScore","photoImgSrc","modelName","photographerName","frameImgSrc","rarityScoreNum","parseInt","getRarityName","getFrameImgSrc","react_default","createElement","className","src","alt","href","Component","Cards","_this$props","cards","cardDivs","reversed","slice","reverse","map","index","Cards_Card","key","toString","style","width","FreeDrawCountdown","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","secToDHMS","seconds","d","Math","floor","h","m","s","secToTimeStr","dhms","timeStr","daysStr","padStart","state","now","round","Date","setInterval","setState","remainingTimeStr","endTime","pollingInterval","App","tronWebState","installed","loggedIn","defaultAddress","ContractJSON","networkId","networkName","abi","accounts","contract","drawCardPrice","myCards","playerLastFreeDrawTime","freeDrawTimeGap","alerts","isDrawingCard","isDrawingCardSent","isDrawingCardFailed","justDrawnCards","componentDidMount","contractAddress","contractAddressHex","sent","fullNode","host","includes","console","log","ready","networks","address","toHex","at","abrupt","getLatestPhotoId","getCardPrice","getMyCards","getPlayerLastFreeDrawTime","t0","error","triggerContract","_callee2","methodName","args","callback","_this$state","callSend","_context2","forEach","val","test","stateMutability","apply","toConsumableArray","feeLimit","callValue","then","res","_callee3","latestPhotoId","_context3","getFreeDrawTimeGap","_callee4","_context4","toNumber","_callee5","_context5","getTransferEvents","_callee6","_this$state2","contractAddressBase58","events","_context6","addressBase58","getEventResult","getCardDrawnEvents","_callee7","_this$state3","_context7","_callee8","_this$state4","drawnCards","i","_context8","drawnCardsOf","hex","cardIds","length","push","cardId","photoIds","rarityScores","_callee9","_this$state5","_context9","freeDrawCard","_callee10","_context10","onDrawingCard","send","undefined","shouldPollResponse","result","onDrawingCardSent","onDrawingCardFailed","drawCard","_callee11","_this$state6","_context11","draw10Cards","_callee12","_this$state7","_context12","drawMultipleCards","_callee13","_context13","_callee14","cardCount","_context14","pollDrawingCard","_callee15","oldMyCardsLength","_context15","onPollCardDrawn","_callee16","_context16","onCardDrawn","_callee17","_context17","max","_callee19","_context19","_callee18","_context18","pushAlert","_callee20","alertObj","_context20","dismissAlert","_callee21","input","_context21","filter","id","canFreeDrawTime","canFreeDrawNow","lib","init","smoothScrollingDuration","smoothScrolling","forceHeight","es","timeout","onDismiss","position","backgroundColor","paddingLeft","role","data-0","data-300","type","data-toggle","data-target","Link","to","color","Switch","Route","exact","path","data-animation","components_Cards","target","rel","data-stellar-background-ratio","left","top","onClick","components_FreeDrawCountdown","Boolean","location","hostname","match","ReactDOM","render","HashRouter","src_App_0","document","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.969b785a.chunk.js","sourcesContent":["// import tronweb from \"tronweb\";\n\nfunction sleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nconst getTronWeb = () =>\n  new Promise((resolve, reject) => {\n    // Wait for loading completion to avoid race conditions with web3 injection timing.\n    window.addEventListener(\"load\", async () => {\n\n      // wait for 0.1 second to let TronLink initiate\n      await sleep(100);\n\n      if (window.tronWeb) {\n        const tronWeb = window.tronWeb;\n        resolve(tronWeb);\n      }\n      else {\n        // alert(\"Please install Tron Link and sign in.\");\n        reject(\"no tron link\");\n      }\n\n      // // Legacy dapp browsers...\n      // else if (window.web3) {\n      //   // Use Mist/MetaMask's provider.\n      //   const web3 = window.web3;\n      //   console.log(\"Injected web3 detected.\");\n      //   resolve(web3);\n      // }\n      // // Fallback to localhost; use dev console port by default...\n      // else {\n      //   const provider = new Web3.providers.HttpProvider(\n      //     \"http://127.0.0.1:9545\"\n      //   );\n      //   const web3 = new Web3(provider);\n      //   console.log(\"No web3 instance injected, using Local web3.\");\n      //   resolve(web3);\n      // }\n    });\n  });\n\nexport default getTronWeb;\n","import React, { Component } from \"react\";\n\nconst photosFolderPath = \"img/photos/\";\nconst framesFolderPath = \"img/frames/\";\n\nconst photographers = {\n  \"0\": {\n    name: \"史旺基\",\n  },\n}\n\nconst models = {\n  \"0\": {\n    name: \"婷婷\"\n  },\n  \"1\": {\n    name: \"思嫺\"\n  },\n  \"2\": {\n    name: \"小敬\"\n  },\n  \"3\": {\n    name: \"妤珊\"\n  },\n  \"4\": {\n    name: \"帛瑜\"\n  },\n  \"5\": {\n    name: \"佳佳\"\n  },\n}\n\nconst photos = {\n  \"0\": {\n     \"model_id\": 0,\n     \"photographer_id\": 0,\n     \"file_name\": \"0-0.jpg\"\n  },\n  \"1\": {\n     \"model_id\": 0,\n     \"photographer_id\": 0,\n     \"file_name\": \"0-1.jpg\"\n  },\n  \"2\": {\n     \"model_id\": 0,\n     \"photographer_id\": 0,\n     \"file_name\": \"0-2.jpg\"\n  },\n  \"3\": {\n     \"model_id\": 0,\n     \"photographer_id\": 0,\n     \"file_name\": \"0-3.jpg\"\n  },\n  \"4\": {\n     \"model_id\": 0,\n     \"photographer_id\": 0,\n     \"file_name\": \"0-4.jpg\"\n  },\n  \"5\": {\n     \"model_id\": 1,\n     \"photographer_id\": 0,\n     \"file_name\": \"1-0.jpg\"\n  },\n  \"6\": {\n     \"model_id\": 1,\n     \"photographer_id\": 0,\n     \"file_name\": \"1-1.jpg\"\n  },\n  \"7\": {\n     \"model_id\": 1,\n     \"photographer_id\": 0,\n     \"file_name\": \"1-2.jpg\"\n  },\n  \"8\": {\n     \"model_id\": 1,\n     \"photographer_id\": 0,\n     \"file_name\": \"1-3.jpg\"\n  },\n  \"9\": {\n     \"model_id\": 1,\n     \"photographer_id\": 0,\n     \"file_name\": \"1-4.jpg\"\n  },\n  \"10\": {\n     \"model_id\": 2,\n     \"photographer_id\": 0,\n     \"file_name\": \"2-0.jpg\"\n  },\n  \"11\": {\n     \"model_id\": 2,\n     \"photographer_id\": 0,\n     \"file_name\": \"2-1.jpg\"\n  },\n  \"12\": {\n     \"model_id\": 2,\n     \"photographer_id\": 0,\n     \"file_name\": \"2-2.jpg\"\n  },\n  \"13\": {\n     \"model_id\": 2,\n     \"photographer_id\": 0,\n     \"file_name\": \"2-3.jpg\"\n  },\n  \"14\": {\n     \"model_id\": 2,\n     \"photographer_id\": 0,\n     \"file_name\": \"2-4.jpg\"\n  },\n  \"15\": {\n     \"model_id\": 3,\n     \"photographer_id\": 0,\n     \"file_name\": \"3-0.jpg\"\n  },\n  \"16\": {\n     \"model_id\": 3,\n     \"photographer_id\": 0,\n     \"file_name\": \"3-1.jpg\"\n  },\n  \"17\": {\n     \"model_id\": 3,\n     \"photographer_id\": 0,\n     \"file_name\": \"3-2.jpg\"\n  },\n  \"18\": {\n     \"model_id\": 3,\n     \"photographer_id\": 0,\n     \"file_name\": \"3-3.jpg\"\n  },\n  \"19\": {\n     \"model_id\": 3,\n     \"photographer_id\": 0,\n     \"file_name\": \"3-4.jpg\"\n  },\n  \"20\": {\n     \"model_id\": 4,\n     \"photographer_id\": 0,\n     \"file_name\": \"4-0.jpg\"\n  },\n  \"21\": {\n     \"model_id\": 4,\n     \"photographer_id\": 0,\n     \"file_name\": \"4-1.jpg\"\n  },\n  \"22\": {\n     \"model_id\": 4,\n     \"photographer_id\": 0,\n     \"file_name\": \"4-2.jpg\"\n  },\n  \"23\": {\n     \"model_id\": 4,\n     \"photographer_id\": 0,\n     \"file_name\": \"4-3.jpg\"\n  },\n  \"24\": {\n     \"model_id\": 4,\n     \"photographer_id\": 0,\n     \"file_name\": \"4-4.jpg\"\n  },\n  \"25\": {\n     \"model_id\": 5,\n     \"photographer_id\": 0,\n     \"file_name\": \"5-0.jpg\"\n  },\n  \"26\": {\n     \"model_id\": 5,\n     \"photographer_id\": 0,\n     \"file_name\": \"5-1.jpg\"\n  },\n  \"27\": {\n     \"model_id\": 5,\n     \"photographer_id\": 0,\n     \"file_name\": \"5-2.jpg\"\n  },\n  \"28\": {\n     \"model_id\": 5,\n     \"photographer_id\": 0,\n     \"file_name\": \"5-3.jpg\"\n  },\n  \"29\": {\n     \"model_id\": 5,\n     \"photographer_id\": 0,\n     \"file_name\": \"5-4.jpg\"\n  }\n}\n\nconst frames = {\n  \"N\": {\n    file_name: \"01_normal.png\"\n  },\n  \"R\": {\n    file_name: \"02_rare.png\"\n  },\n  \"SR\": {\n    file_name: \"03_superrare.png\"\n  },\n  \"SSR\": {\n    file_name: \"04_ssrare.png\"\n  },\n  \"UR\": {\n    file_name: \"05_ultrarare.png\"\n  },\n}\n\nfunction getRarityName(rarityScore) {\n  const rarityScoreNum = parseInt(rarityScore);\n  if (rarityScoreNum <= 0) {\n    return \"UR\"\n  } else if (rarityScoreNum <= 20) {\n    return \"SSR\"\n  } else if (rarityScoreNum <= 120) {\n    return \"SR\"\n  } else if (rarityScoreNum <= 370) {\n    return \"R\"\n  } else {\n    return \"N\"\n  }\n}\n\nfunction getFrameImgSrc(rarityScore) {\n  const rarityScoreNum = parseInt(rarityScore);\n  let rarityName = \"N\";\n  if (rarityScoreNum <= 0) {\n    rarityName = \"UR\"\n  } else if (rarityScoreNum <= 20) {\n    rarityName = \"SSR\"\n  } else if (rarityScoreNum <= 120) {\n    rarityName = \"SR\"\n  } else if (rarityScoreNum <= 370) {\n    rarityName = \"R\"\n  } else {\n    rarityName = \"N\"\n  }\n  return framesFolderPath + frames[rarityName].file_name;\n}\n\nclass Card extends Component {\n  render() {\n    const { photoId, rarityScore } = this.props.card;\n    const photoImgSrc = photosFolderPath + photos[photoId].file_name;\n    const modelName = models[ photos[photoId].model_id ].name;\n    const photographerName = photographers[ photos[photoId].photographer_id ].name;\n    const rarityName = getRarityName(rarityScore);\n    const frameImgSrc = getFrameImgSrc(rarityScore);\n\n    return (\n      <article className=\"article-card\">\n        <div className=\"portfolio-item\">\n          <div className=\"card-image-container\">\n            <img className=\"card-photo\" src={ photoImgSrc } alt=\"\" />\n            <img className=\"card-frame\" src={ frameImgSrc } alt=\"\" />\n          </div>\n          <div className=\"portfolio-desc align-center\">\n            <div className=\"folio-info\">\n              <h3 className=\"text-white white\"><a># { photoId }</a></h3>\n              <h3 className=\"text-white white\"><a>{ modelName }</a></h3>\n              {/* <h4 className=\"text-white white\"><a>稀有度：{ rarityName }</a></h4> */}\n              <h5 className=\"text-white white\"><a>By { photographerName }</a></h5>\n              <a href={photoImgSrc} className=\"fancybox\"><i className=\"fa fa-plus fa-2x\"></i></a>\n            </div>\n          </div>\n        </div>\n      </article>\n    );\n  }\n};\n\nclass Cards extends Component {\n  render() {\n    const { cards, reversed } = this.props;\n\n    let cardDivs = []\n    if (reversed) {\n      cardDivs = cards.slice(0).reverse().map((card, index) => {\n        return <Card card={card} key={\"card-\" + index.toString()} />\n      });\n    } else {\n      cardDivs = cards.map((card, index) => {\n        return <Card card={card} key={\"card-\" + index.toString()} />\n      });\n    }\n\n    return (\n      <div className=\"text-center\" style={{width: \"100%\"}}>\n        { cardDivs }\n      </div>\n    );\n  }\n};\n\nexport default Cards;\n","import React, { Component } from \"react\";\nimport PropTypes from 'prop-types';\n\nclass FreeDrawCountdown extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      now: Math.round(Date.now()/1000),\n    }\n\n    // Update now every 1 second.\n    setInterval(() => {\n      this.setState({ now: Math.round(Date.now()/1000) });\n    }, 1000);\n  }\n\n  secToDHMS = (seconds) => {\n    if (seconds >= 0) {\n      let d = Math.floor(seconds / 86400);\n      let h = Math.floor((seconds % 86400) / 3600);\n      let m = Math.floor((seconds % 3600) / 60);\n      let s = Math.floor(seconds % 60);\n      return {d, h, m, s};\n    }\n    else {\n      return {\n        d: 0,\n        h: 0,\n        m: 0,\n        s: 0\n      }\n    }\n  };\n\n  secToTimeStr = (seconds) => {\n    if (seconds < 0) {\n      return \"Free\";\n    }\n\n    const dhms = this.secToDHMS(seconds);\n    let timeStr = (dhms.d > 0)?dhms.d.toString() + ' ' + this.props.daysStr + ' ' : '';\n\n    timeStr = (timeStr\n      + dhms.h.toString().padStart(2, '0') + ':'\n      + dhms.m.toString().padStart(2, '0') + ':'\n      + dhms.s.toString().padStart(2, '0'));\n\n    return timeStr;\n  };\n\n  render() {\n    const remainingTimeStr = this.secToTimeStr(this.props.endTime - this.state.now);\n\n    return (\n      <span>{remainingTimeStr}</span>\n    );\n  }\n}\n\nFreeDrawCountdown.propTypes = {\n  endTime: PropTypes.number,\n};\n\nexport default FreeDrawCountdown;","import React, { Component } from \"react\";\nimport { Route, Link, Switch } from \"react-router-dom\";\nimport { ParallaxProvider } from 'react-skrollr'\nimport { AlertList, Alert, AlertContainer } from \"react-bs-notifier\";\n// const skrollr = require('skrollr');\n\nimport ContractJSON from \"./contracts_for_client/CryptoBeauty.json\";\n// import ContractJSON from \"./contracts/MetaCoin.json\";\nimport getTronWeb from \"./utils/getTronWeb\";\nimport Cards from \"./components/Cards\";\nimport FreeDrawCountdown from \"./components/FreeDrawCountdown\";\n\n// import 'bootstrap/dist/css/bootstrap.min.css';\nimport \"./App.css\";\n// import \"./css/animate.css\";\n// import \"./css/bootstrap-theme.css\";\n// import \"./css/bootstrap.css\";\n// import \"./css/font-awesome.css\";\n// import \"./css/isotope.css\";\n// import \"./css/overwrite.css\";\n// import \"./css/style.css\";\n// import \"./css/default.css\";\n\nconst pollingInterval = 2000;\n\nclass App extends Component {\n  state = {\n    tronWebState: {\n      installed: false,\n      loggedIn: false,\n    },\n    tronWeb: null,\n    defaultAddress: null,\n    ContractJSON: ContractJSON,\n    networkId: '1',\n    networkName: 'Mainnet',\n    abi: [],\n\n    accounts: null,\n    contract: null,\n\n    drawCardPrice: 20000000,\n    myCards: [],\n    // myCards: [\n    //   {\n    //     photoId: \"0\",\n    //     rarityScore: \"0\",\n    //   },\n    //   {\n    //     photoId: \"7\",\n    //     rarityScore: \"5\",\n    //   },\n    //   {\n    //     photoId: \"14\",\n    //     rarityScore: \"50\",\n    //   },\n    //   {\n    //     photoId: \"21\",\n    //     rarityScore: \"200\",\n    //   },\n    //   {\n    //     photoId: \"28\",\n    //     rarityScore: \"800\",\n    //   },\n    // ],\n    playerLastFreeDrawTime: 0,\n    freeDrawTimeGap: 82800, // 23 hours\n    alerts: [],\n    isDrawingCard: false,\n    isDrawingCardSent: false,\n    isDrawingCardFailed: false,\n    justDrawnCards: [],\n  };\n\n  componentDidMount = async () => {\n    try {\n      // const { networkId } = this.state;\n\n      const tronWeb = await getTronWeb();\n\n      // get networkId\n      let networkId = '1';\n      let networkName = 'Mainnet';\n      if (tronWeb.fullNode.host.includes('shasta')) {\n        networkId = '2';\n        networkName = 'Shasta Testnet';\n      } else if (tronWeb.fullNode.host.includes('api.trongrid.io')) {\n        networkId = '1';\n        networkName = 'Mainnet';\n      } else {\n        // networkId = '-1';\n        networkName = 'Unknown Network';\n      }\n      console.log(\"networkId\", networkId);\n\n      const tronWebState = {\n        installed: !!tronWeb,\n        loggedIn: !!tronWeb && tronWeb.ready,\n      }\n      console.log(\"tronWebState\", tronWebState);\n      this.setState({\n        tronWeb,\n        tronWebState,\n        networkId,\n        networkName,\n      });\n\n      const abi = ContractJSON.abi;\n      const contractAddress = ContractJSON.networks[networkId].address;\n      const contractAddressHex = (contractAddress[0] === 'T') ?\n        tronWeb.address.toHex(contractAddress) : contractAddress;\n      console.log(\"contractAddressHex\", contractAddressHex);\n      const contract = await tronWeb.contract().at(contractAddressHex);\n      console.log(\"contract\", contract);\n\n      this.setState({\n        contract,\n        abi\n      });\n\n      if (!tronWebState.loggedIn) {\n        return;\n      }\n\n      const defaultAddress = tronWeb.defaultAddress;\n      console.log(\"defaultAddress\", defaultAddress);\n\n      this.setState({\n        defaultAddress,\n      }, () => {\n        this.getLatestPhotoId();\n        this.getCardPrice();\n        // this.getTransferEvents();\n        // this.getCardDrawnEvents();\n        this.getMyCards();\n        this.getPlayerLastFreeDrawTime();\n        // this.getFreeDrawTimeGap();\n      });\n\n    } catch (error) {\n      // Catch any errors for any of the above operations.\n      // alert(\n      //   `Failed to load web3, accounts, or contract. Check console for details.`,\n      // );\n      console.error(error);\n    }\n  };\n\n  triggerContract = async function (methodName, args, callback) {\n    const { abi, contract } = this.state;\n\n    var callSend = 'send'\n    abi.forEach(function (val) {\n      if (val.name === methodName) {\n        callSend = /payable/.test(val.stateMutability) ? 'send' : 'call'\n      }\n    })\n\n    contract[methodName](...args)[callSend]({\n      feeLimit: this.feeLimit,\n      callValue: this.callValue || 0,\n    }).then(function (res) {\n      if (res) {\n        callback && callback(res);\n      }\n    })\n  };\n\n  getLatestPhotoId = async () => {\n    const { contract } = this.state;\n\n    const latestPhotoId = await contract.getLatestPhotoId().call();\n    console.log(\"latestPhotoId\", latestPhotoId);\n  };\n\n  getFreeDrawTimeGap = async () => {\n    const { contract } = this.state;\n\n    const freeDrawTimeGap = await contract.freeDrawTimeGap().call();\n    console.log(\"freeDrawTimeGap\", freeDrawTimeGap, freeDrawTimeGap.toNumber());\n    this.setState({\n      freeDrawTimeGap:  freeDrawTimeGap.toNumber()\n    });\n  };\n\n  getCardPrice = async () => {\n    const { contract } = this.state;\n\n    const drawCardPrice = await contract.drawCardPrice().call();\n    console.log(\"drawCardPrice\", drawCardPrice);\n    this.setState({\n      drawCardPrice: drawCardPrice.toNumber()\n    });\n  };\n\n  getTransferEvents = async () => {\n    const { tronWeb, networkId, ContractJSON } = this.state;\n\n    const contractAddressBase58 = ContractJSON.networks[networkId].addressBase58;\n\n    console.log(\"getTransferEvents\");\n\n    const events = await tronWeb.getEventResult(\n      contractAddressBase58,\n      1546530140000, // sinceTimestamp\n      \"Transfer\" // eventName\n      // 6540, // blockNumber\n      // 20, // size\n      // 0 // page\n    );\n    console.log(\"events\", events);\n  };\n\n  getCardDrawnEvents = async () => {\n    const { tronWeb, networkId, ContractJSON } = this.state;\n\n    const contractAddressBase58 = ContractJSON.networks[networkId].addressBase58;\n\n    console.log(\"getCardDrawnEvents\");\n\n    const events = await tronWeb.getEventResult(\n      contractAddressBase58,\n      1546530140000, // sinceTimestamp\n      \"CardDrawn\" // eventName\n      // 6540, // blockNumber\n      // 20, // size\n      // 0 // page\n    );\n    console.log(\"events\", events);\n  };\n\n  getMyCards = async () => {\n    const { contract, defaultAddress } = this.state;\n\n    console.log(\"getMyCards\");\n\n    const drawnCards = await contract.drawnCardsOf(defaultAddress.hex).call();\n    console.log(\"drawnCards\", drawnCards);\n\n    let cards = [];\n    for (let i = 0; i < drawnCards.cardIds.length; i++) {\n    // for (let i = drawnCards.cardIds.length - 1; i >= 0; i--) {\n      cards.push({\n        cardId: drawnCards.cardIds[i].toNumber(),\n        photoId: drawnCards.photoIds[i].toNumber(),\n        rarityScore: drawnCards.rarityScores[i].toNumber(),\n      })\n    }\n    this.setState({\n      myCards: cards\n    });\n\n    return cards\n\n    // const { tronWeb, networkId, ContractJSON, defaultAddress } = this.state;\n\n    // const contractAddressBase58 = ContractJSON.networks[networkId].addressBase58;\n\n    // const events = await tronWeb.getEventResult(\n    //   contractAddressBase58,\n    //   1546530140000, // sinceTimestamp\n    //   \"CardDrawn\", // eventName\n    //   undefined, // blockNumber\n    //   200, // size\n    //   1 // page\n    // );\n    // console.log(\"CardDrawn events\", events);\n\n    // let myCards = [];\n    // const my0xAddress = \"0x\" + defaultAddress.hex.slice(2);\n    // for (const event of events) {\n    //   let card = Object.assign({}, event.result);\n    //   card.transaction = event.transaction;\n    //   card.timestamp = event.timestamp;\n    //   if (card.to === my0xAddress) {\n    //     myCards.push(card)\n    //   }\n    // }\n\n    // this.setState({ myCards });\n  };\n\n  getPlayerLastFreeDrawTime = async () => {\n    const { contract, defaultAddress } = this.state;\n\n    const playerLastFreeDrawTime = await contract.playerLastFreeDrawTime(defaultAddress.hex).call();\n    console.log(\"playerLastFreeDrawTime\", playerLastFreeDrawTime, playerLastFreeDrawTime.toNumber());\n    this.setState({\n      playerLastFreeDrawTime: playerLastFreeDrawTime.toNumber()\n    });\n  }\n\n  freeDrawCard = async () => {\n    const { contract } = this.state;\n\n    console.log(\"freeDrawCard\");\n\n    this.onDrawingCard();\n\n    // contract.freeDrawCard(0).send({\n    //   feeLimit: undefined,\n    //   callValue: 0,\n    //   shouldPollResponse: true\n    // })\n    // .then((result) => {\n    //   console.log(\"freeDrawCard result\", result);\n    //   // onFreeCardDrawn\n    //   this.getPlayerLastFreeDrawTime();\n    //   this.onCardDrawn(1);\n    // }, (error) => {\n    //   console.log(\"freeDrawCard error\", error);\n    //   this.onDrawingCardFailed();\n    // });\n\n    contract.freeDrawCard(0).send({\n      feeLimit: undefined,\n      callValue: 0,\n      shouldPollResponse: false // resolve when tx broadcasted\n    })\n    .then((result) => {\n      console.log(\"freeDrawCard result\", result);\n      // onFreeCardDrawn\n      // this.getPlayerLastFreeDrawTime();\n      this.onDrawingCardSent(1);\n    }, (error) => {\n      console.log(\"freeDrawCard error\", error);\n      this.onDrawingCardFailed();\n    });\n\n    // const result = await contract.freeDrawCard(0).send({\n    //   feeLimit: undefined,\n    //   callValue: 0,\n    //   shouldPollResponse: true\n    // });\n    // console.log(\"freeDrawCard result\", result);\n\n    // // onFreeCardDrawn\n    // this.getPlayerLastFreeDrawTime();\n\n    // this.onCardDrawn(1);\n  };\n\n  drawCard = async () => {\n    const { contract, drawCardPrice } = this.state;\n\n    console.log(\"drawCard\");\n\n    this.onDrawingCard();\n\n    // contract.drawCard(0).send({\n    //   feeLimit: undefined,\n    //   callValue: drawCardPrice,\n    //   shouldPollResponse: true\n    // })\n    // .then((result) => {\n    //   console.log(\"drawCard result\", result);\n    //   this.onCardDrawn(1);\n    // }, (error) => {\n    //   console.log(\"drawCard error\", error);\n    //   this.onDrawingCardFailed();\n    // });\n\n\n    contract.drawCard(0).send({\n      feeLimit: undefined,\n      callValue: drawCardPrice,\n      shouldPollResponse: false // resolve when tx broadcasted\n    })\n    .then((result) => {\n      console.log(\"drawCard result\", result); // tx id\n\n      this.onDrawingCardSent(1);\n    }, (error) => {\n      console.log(\"drawCard error\", error);\n      this.onDrawingCardFailed();\n    });\n\n    // const result = await contract.drawCard(0).send({\n    //   feeLimit: undefined,\n    //   callValue: drawCardPrice,\n    //   shouldPollResponse: true\n    // });\n    // console.log(\"drawCard result\", result);\n\n    // this.onCardDrawn(1);\n  };\n\n  draw10Cards = async () => {\n    const { contract, drawCardPrice } = this.state;\n\n    console.log(\"draw10Cards\");\n\n    this.onDrawingCard();\n\n    const cardCount = 10;\n\n    // contract.drawMultipleCards(0, cardCount).send({\n    //   feeLimit: undefined,\n    //   callValue: drawCardPrice * cardCount,\n    //   shouldPollResponse: true\n    // })\n    // .then((result) => {\n    //   console.log(\"draw10Cards result\", result);\n    //   this.onCardDrawn(10);\n    // }, (error) => {\n    //   console.log(\"draw10Cards error\", error);\n    //   this.onDrawingCardFailed();\n    // });\n\n    contract.drawMultipleCards(0, cardCount).send({\n      feeLimit: undefined,\n      callValue: drawCardPrice * cardCount,\n      shouldPollResponse: false // resolve when tx broadcasted\n    })\n    .then((result) => {\n      console.log(\"draw10Cards result\", result);\n      this.onDrawingCardSent(10);\n    }, (error) => {\n      console.log(\"draw10Cards error\", error);\n      this.onDrawingCardFailed();\n    });\n\n    // const result = await contract.drawMultipleCards(0, cardCount).send({\n    //   feeLimit: undefined,\n    //   callValue: drawCardPrice * cardCount,\n    //   shouldPollResponse: true\n    // });\n    // console.log(\"drawCard result\", result);\n\n    // this.onCardDrawn(10);\n  };\n\n  onDrawingCard = async () => {\n    this.setState({\n      isDrawingCard: true,\n    });\n  }\n\n  onDrawingCardSent = async (cardCount) => {\n    this.setState({\n      isDrawingCardSent: true,\n    });\n\n    // this.pollDrawingCard(cardCount);\n    setTimeout(() => {\n      this.pollDrawingCard(cardCount)\n    }, pollingInterval);\n  }\n\n  pollDrawingCard = async (cardCount) => {\n    console.log(\"pollDrawingCard\");\n\n    const oldMyCardsLength = this.state.myCards.length;\n\n    const newMyCards = await this.getMyCards();\n\n    if (newMyCards.length > oldMyCardsLength) {\n      this.onPollCardDrawn(cardCount);\n    } else {\n      setTimeout(() => {\n        this.pollDrawingCard(cardCount)\n      }, pollingInterval);\n    }\n  }\n\n  onDrawingCardFailed = async () => {\n    // this.pushAlert({\n    //   id: Date.now(),\n    //   type: \"error\",\n    //   message: \"抽卡失敗，請確定你的 TronLink 連接到主網上，並且擁有足夠的 TRX\"\n    // });\n\n    this.setState({\n      isDrawingCard: false,\n      isDrawingCardSent: false,\n      isDrawingCardFailed: true,\n    });\n  }\n\n  onCardDrawn = async (cardCount) => {\n    console.log(\"onCardDrawn\");\n\n    await this.getMyCards();\n\n    const { myCards } = this.state;\n    const justDrawnCards = myCards.slice(Math.max(myCards.length - cardCount, 0));\n    console.log(\"justDrawnCards\", justDrawnCards);\n    this.setState({\n      isDrawingCard: false,\n      isDrawingCardSent: false,\n      justDrawnCards\n    });\n\n    // this.pushAlert({\n    //   id: Date.now(),\n    //   type: \"success\",\n    //   message:\"抽卡完成，請點擊右上角 My Girls 前往查看\"\n    // });\n  }\n\n  onPollCardDrawn = async (cardCount) => {\n    console.log(\"onPollCardDrawn\");\n\n    setTimeout(async () => {\n      await this.getMyCards();\n\n      const { myCards } = this.state;\n      const justDrawnCards = myCards.slice(Math.max(myCards.length - cardCount, 0));\n      console.log(\"justDrawnCards\", justDrawnCards);\n      this.setState({\n        isDrawingCard: false,\n        isDrawingCardSent: false,\n        justDrawnCards\n      });\n\n      this.getPlayerLastFreeDrawTime();\n    }, pollingInterval);\n  }\n\n  pushAlert = async (alertObj) => {\n    this.state.alerts.push(alertObj);\n\n    this.setState({\n      alerts: this.state.alerts\n    });\n  }\n\n  dismissAlert = async (input) => {\n    console.log(\"input\", input);\n\n    const alerts = this.state.alerts.filter((alertObj) => {\n      return alertObj.id != input.id;\n    });\n\n    this.setState({\n      alerts\n    });\n  }\n\n  render() {\n    // if (!this.state.tronWeb) {\n    //   return <div className=\"App\">\n    //     Loading tronWeb, accounts, and contract...\n    //   </div>;\n    // }\n    // else if (!this.state.tronWebState.loggedIn) {\n    //   return <div className=\"App\">\n    //     <h1>Please install and unlock TronLink.</h1>\n    //   </div>;\n    // }\n\n    const canFreeDrawTime = this.state.playerLastFreeDrawTime + this.state.freeDrawTimeGap;\n    const canFreeDrawNow = (Date.now() / 1000) > canFreeDrawTime;\n\n    return (\n      <ParallaxProvider\n        init={{\n          smoothScrollingDuration: 500,\n          smoothScrolling: true,\n          forceHeight: false\n        }}\n      >\n        <div className=\"App\">\n          <AlertList\n            timeout={5000}\n            onDismiss={this.dismissAlert}\n            position=\"bottom-left\"\n            alerts={this.state.alerts}\n          />\n\n          <section id=\"header\" className=\"appear\"></section>\n          <div className=\"navbar navbar-fixed-top navbar-default-style\"\n          style={{ backgroundColor: \"rgba(68,188,221,1)\", paddingLeft: \"15px\" }}\n          role=\"navigation\" data-0=\"line-height:60px; height:60px; background-color:rgba(68,188,221,1);\" data-300=\"line-height:40px; height:40px; background-color:rgba(68,188,221,0.6);\">\n            <div className=\"container\">\n              <div className=\"navbar-header\">\n                <button type=\"button\" className=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-collapse\">\n                    <span className=\"fa fa-bars color-white\"></span>\n                  </button>\n                <h1>\n                  <Link to=\"/\" className=\"navbar-brand navbar-brand-default-style\" data-0=\"line-height:60px;\" data-300=\"line-height:50px;\">CryptoBeauty</Link>\n                </h1>\n              </div>\n              <div className=\"navbar-collapse collapse\">\n                <ul className=\"nav navbar-nav\" data-0=\"margin-top:10px;\" data-300=\"margin-top:5px;\">\n                  <li>\n                    <a style={{color: \"#DDD\"}}>on {this.state.networkName}</a>\n                  </li>\n                  <li>\n                    <Switch>\n                      <Route exact path=\"/asset\">\n                        <Link to=\"/\">Own A Girl</Link>\n                      </Route>\n                      <Route>\n                        <Link to=\"/asset\">My Girls</Link>\n                      </Route>\n                    </Switch>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n\n          <Switch>\n            <Route exact path=\"/asset\"><div>\n\n              <section id=\"section-works\" className=\"section appear clearfix\">\n                <div className=\"container\">\n\n                  <div className=\"row mar-bot40\">\n                    <div className=\"col-md-offset-3 col-md-6\">\n                      <div className=\"section-header\">\n                        <h2 className=\"section-heading animated\" data-animation=\"bounceInUp\">Girls in the house</h2>\n                      </div>\n                    </div>\n                  </div>\n\n                  {\n                  !this.state.tronWebState.loggedIn ?\n                  <div>\n                    <h3>請在電腦上用 <a target=\"_blank\" rel=\"noopener noreferrer\"  href=\"https://www.google.com/chrome/\">Chrome</a> 開啟網頁</h3>\n                    <h3>並安裝與解鎖 <a target=\"_blank\" rel=\"noopener noreferrer\"  href=\"https://chrome.google.com/webstore/detail/tronlink/ibnejdfjmmkpcnlpebklmnkoeoihofec\">TronLink</a></h3>\n                  </div>\n                  :\n                  <div className=\"row\">\n                    {/* <nav id=\"filter\" className=\"col-md-12 text-center\">\n                      <ul>\n                        <li><a className=\"current btn-theme btn-small\" data-filter=\"*\">All</a></li>\n                        <li><a className=\"btn-theme btn-small\" data-filter=\".normal\">Normal</a></li>\n                        <li><a className=\"btn-theme btn-small\" data-filter=\".rare\">Rare</a></li>\n                        <li><a className=\"btn-theme btn-small\" data-filter=\".sr\">SR</a></li>\n                        <li><a className=\"btn-theme btn-small\" data-filter=\".ssr\">SSR</a></li>\n                        <li><a className=\"btn-theme btn-small\" data-filter=\".ur\">Ultra Rare</a></li>\n                      </ul>\n                    </nav> */}\n\n                    {\n                      this.state.myCards.length === 0 ?\n                      <h3>你還沒有卡片，快<Link to=\"/\">回到首頁</Link>抽一張吧！</h3>\n                      :\n                      <Cards cards={this.state.myCards} reversed={true}></Cards>\n                    }\n\n                  </div>\n                  }\n\n                </div>\n              </section>\n\n\n            </div></Route>\n\n            {/* show this by default */}\n            <Route><div>\n\n              <section id=\"parallax4\" className=\"section pad-top150 pad-bot150\" data-stellar-background-ratio=\"0.5\">\n                <div className=\"container\">\n                  <div className=\"align-center pad-top150 pad-bot150\">\n                    <img className=\"align-left cryptobeauty-logo-img\"\n                      style={{width: \"400px\", left: \"40px\", top: \"45px\", position: \"absolute\"}} src=\"img/logo/cryptobeautylogo01.png\" alt=\"\" />\n                    <h1 className=\"align-left text-white-outlined pad-top20\">Crypto Beauty <span className=\"cryptobeauty-title\">密碼女孩</span></h1>\n                    <h3 className=\"align-left text-white-outlined\"><b>你專屬的區塊鏈少女卡片創作交易平台</b></h3>\n                  </div>\n                </div>\n              </section>\n\n              <section id=\"section-services\" className=\"section pad-bot20 bg-white\">\n                <div className=\"container\">\n\n                  <h2 className=\"align-center color-swimsuitblue pad-bot20\">你的女孩，一鍵擁有</h2>\n\n                  {\n                  !this.state.tronWebState.loggedIn ?\n                  // <div>\n                  //   <h3>您與密碼女孩的距離</h3>\n                  //   <h3>只剩下一個已解鎖的 <a target=\"_blank\" rel=\"noopener noreferrer\"  href=\"https://chrome.google.com/webstore/detail/tronlink/ibnejdfjmmkpcnlpebklmnkoeoihofec\">TronLink</a></h3>\n                  // </div>\n                  <div>\n                    <h3>請在電腦上用 <a target=\"_blank\" rel=\"noopener noreferrer\"  href=\"https://www.google.com/chrome/\">Chrome</a> 開啟網頁</h3>\n                    <h3>並安裝與解鎖 <a target=\"_blank\" rel=\"noopener noreferrer\"  href=\"https://chrome.google.com/webstore/detail/tronlink/ibnejdfjmmkpcnlpebklmnkoeoihofec\">TronLink</a></h3>\n                  </div>\n                  :\n                  <div className=\"row mar-bot40\">\n\n                    <div className=\"col-lg-4\">\n                      <div className=\"align-center\">\n                        {\n                        canFreeDrawNow ?\n                        <div className=\"button-container button-slide-horizontal\">\n                          <div className=\"slider slider-horizontal\">\n                            <div className=\"button\" onClick={this.freeDrawCard}>\n                              <i className=\"color-white\">每日免費抽</i>\n                            </div>\n                          </div>\n                        </div>\n                        :\n                        <div className=\"button-container\">\n                          <div className=\"\">\n                            <div className=\"button button-muted\">\n                              <i className=\"color-white\">每日免費抽</i>\n                            </div>\n                          </div>\n                        </div>\n                        }\n\n\n                        <h4 className=\"color-2blue\">\n                          <FreeDrawCountdown endTime={ canFreeDrawTime }></FreeDrawCountdown>\n                        </h4>\n                      </div>\n                    </div>\n\n\n                    <div className=\"col-lg-4\">\n                      <div className=\"align-center\">\n                        <div className=\"button-container button-slide-horizontal\">\n                          <div className=\"slider slider-horizontal\">\n                              <div className=\"button\" onClick={this.drawCard}>\n                                <i className=\"color-white\">單張抽卡</i>\n                              </div>\n                            </div>\n                        </div>\n                        <h4 className=\"color-2blue\">{this.state.drawCardPrice / 1000000} TRX</h4>\n                      </div>\n                    </div>\n\n                    <div className=\"col-lg-4\">\n                      <div className=\"align-center\">\n                        <div className=\"button-container button-slide-horizontal\">\n                          <div className=\"slider slider-horizontal\">\n                            <div className=\"button\" onClick={this.draw10Cards}>\n                              <i className=\"color-white\">超值卡包</i>\n                            </div>\n                          </div>\n                        </div>\n                        <h4 className=\"color-2blue\">{this.state.drawCardPrice / 1000000 * 10} TRX</h4>\n                      </div>\n                    </div>\n\n                  </div>\n                  }\n\n                  {/* state of drawing */}\n                  {\n                  this.state.isDrawingCard ?\n                  <div>\n                    <div className=\"spinner\"></div>\n                    {\n                      this.state.isDrawingCardSent &&\n                      <h3 className=\"\">抽卡中，若卡片久未出現，請手動<Link to=\"/asset\">跳轉至 My Girls 查看</Link></h3>\n                    }\n                  </div>\n                  :(\n                  this.state.isDrawingCardFailed ?\n                  <div>\n                    <h3>抽卡失敗</h3>\n                    <h4>請確定 TronLink 連接到主網上，並且擁有足夠的 TRX</h4>\n                  </div>\n                  :\n                  <Cards cards={this.state.justDrawnCards} reversed={true}></Cards>\n                  )}\n\n                </div>\n              </section>\n\n              <section id=\"testimonials\" className=\"section\" data-stellar-background-ratio=\"0.5\">\n                <div className=\"container\">\n                  <div className=\"row\">\n                    <div className=\"col-lg-12\">\n                      <div className=\"align-center\">\n                        <div className=\"testimonial pad-top40 pad-bot40\">\n                          <h1 className=\"text-white-outlined\">\n                            取得網紅私密線下活動的專屬門票\n                          </h1>\n                          <br/>\n                        </div>\n\n                      </div>\n                    </div>\n\n                  </div>\n                </div>\n              </section>\n\n              <section id=\"section-about\" className=\"section appear clearfix\">\n                <div className=\"container\">\n\n                  <div className=\"row mar-bot40\">\n                    <div className=\"col-md-offset-3 col-md-6\">\n                      <div className=\"section-header\">\n                        <h2 className=\"section-heading animated\" data-animation=\"bounceInUp\">區塊鏈 X 模特</h2>\n                        <p>清純制服 / 限量版型 / 區塊鏈 / 數位加密 / 私有資產 </p>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"row align-center mar-bot40\">\n                    <div className=\"col-md-3\">\n                      <div className=\"team-member\">\n                        <figure className=\"member-photo\"><img src=\"img/team/member5.jpg\" alt=\"\" /></figure>\n                        <div className=\"team-detail\">\n                          <h4>婷婷</h4>\n                          <span>IG:tinaaalee</span>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"col-md-3\">\n                      <div className=\"team-member\">\n                        <figure className=\"member-photo\"><img src=\"img/team/member6.jpg\" alt=\"\" /></figure>\n                        <div className=\"team-detail\">\n                          <h4>思嫺</h4>\n                          {/* <span>IG:xxx</span> */}\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"col-md-3\">\n                      <div className=\"team-member\">\n                        <figure className=\"member-photo\"><img src=\"img/team/member7.jpg\" alt=\"\" /></figure>\n                        <div className=\"team-detail\">\n                          <h4>小敬</h4>\n                          {/* <span>IG:xxx</span> */}\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"col-md-3\">\n                      <div className=\"team-member\">\n                        <figure className=\"member-photo\"><img src=\"img/team/member8.jpg\" alt=\"\" /></figure>\n                        <div className=\"team-detail\">\n                          <h4>妤珊</h4>\n                          {/* <span>IG:xxx</span> */}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                </div>\n              </section>\n\n            </div></Route>\n          </Switch>\n\n\n\n          <section id=\"footer\" className=\"section footer\">\n            <div className=\"container\">\n              {/* <div className=\"row animated opacity mar-bot20\" data-andown=\"fadeIn\" data-animation=\"animation\">\n                <div className=\"col-sm-12 align-center\">\n                  <ul className=\"social-network social-circle\">\n                    <li><a href=\"#\" className=\"icoRss\" title=\"Rss\"><i className=\"fa fa-rss\"></i></a></li>\n                    <li><a href=\"#\" className=\"icoFacebook\" title=\"Facebook\"><i className=\"fa fa-facebook\"></i></a></li>\n                    <li><a href=\"#\" className=\"icoTwitter\" title=\"Twitter\"><i className=\"fa fa-twitter\"></i></a></li>\n                    <li><a href=\"#\" className=\"icoGoogle\" title=\"Google +\"><i className=\"fa fa-google-plus\"></i></a></li>\n                    <li><a href=\"#\" className=\"icoLinkedin\" title=\"Linkedin\"><i className=\"fa fa-linkedin\"></i></a></li>\n                  </ul>\n                </div>\n              </div> */}\n\n              <div className=\"row align-center copyright\">\n                <div className=\"col-sm-12\">\n                  <p>All rights reserved by CryptoBeauty</p>\n                </div>\n              </div>\n            </div>\n          </section>\n\n          {/* <a href=\"#header\" className=\"scrollup\"><i className=\"fa fa-chevron-up\"></i></a> */}\n\n        </div>\n      </ParallaxProvider>\n    );\n  }\n\n  // componentDidUpdate = async () => {\n  //   console.log(\"window.skrollr\", window.skrollr);\n  // }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from \"react-router-dom\";\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n// ReactDOM.render(<App />, document.getElementById('root'));\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>\n  , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}